<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keys.so Spy - –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .test-container { max-width: 800px; margin: 0 auto; }
        .test-section { background: white; margin: 20px 0; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .warning { background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
        button { padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-warning { background: #ffc107; color: black; }
        .btn-info { background: #17a2b8; color: white; }
        .test-data { background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 10px 0; font-family: monospace; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîç Keys.so Spy - –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª–µ–π</h1>
        
        <div class="test-section">
            <h2>üìä –¢–µ—Å—Ç Utils</h2>
            <div id="utilsTestResults"></div>
            <button class="btn-primary" onclick="testUtils()">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Utils</button>
        </div>

        <div class="test-section">
            <h2>üîî –¢–µ—Å—Ç NotificationManager</h2>
            <div id="notificationTestResults"></div>
            <button class="btn-success" onclick="testNotifications()">–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</button>
            <button class="btn-warning" onclick="testNotificationTypes()">–¢–µ—Å—Ç —Ç–∏–ø–æ–≤</button>
        </div>

        <div class="test-section">
            <h2>üíæ –¢–µ—Å—Ç DomainStorage</h2>
            <div id="storageTestResults"></div>
            <button class="btn-primary" onclick="testDomainStorage()">–¢–µ—Å—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞</button>
        </div>

        <div class="test-section">
            <h2>üé® –¢–µ—Å—Ç DomainUI</h2>
            <div id="domainUITestResults"></div>
            <button class="btn-info" onclick="testDomainUI()">–¢–µ—Å—Ç UI</button>
        </div>

        <div class="test-section">
            <h2>üìà –¢–µ—Å—Ç OverviewTab</h2>
            <div id="overviewTestResults"></div>
            <button class="btn-success" onclick="testOverviewTab()">–¢–µ—Å—Ç –æ–±–∑–æ—Ä–∞</button>
        </div>

        <div class="test-section">
            <h2>üîë –¢–µ—Å—Ç KeywordsTab</h2>
            <div id="keywordsTestResults"></div>
            <button class="btn-primary" onclick="testKeywordsTab()">–¢–µ—Å—Ç –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤</button>
        </div>
    </div>

    <!-- JavaScript –º–æ–¥—É–ª–∏ -->
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/api.js"></script>
    <script src="assets/js/app.js"></script>

    <script>
        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        function addTestResult(containerId, message, type = 'info') {
            const container = document.getElementById(containerId);
            const div = document.createElement('div');
            div.className = `test-result ${type}`;
            div.textContent = message;
            container.appendChild(div);
        }

        function clearTestResults(containerId) {
            document.getElementById(containerId).innerHTML = '';
        }

        // –¢–µ—Å—Ç Utils
        function testUtils() {
            clearTestResults('utilsTestResults');
            addTestResult('utilsTestResults', 'üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º Utils...', 'info');

            try {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ Utils –¥–æ—Å—Ç—É–ø–µ–Ω
                if (typeof Utils === 'undefined') {
                    addTestResult('utilsTestResults', '‚ùå Utils –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω', 'error');
                    return;
                }

                // –¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–µ–ª
                const formatted = Utils.formatNumber(1234567);
                if (formatted === '1 234 567') {
                    addTestResult('utilsTestResults', '‚úÖ formatNumber —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', 'success');
                } else {
                    addTestResult('utilsTestResults', `‚ùå formatNumber –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: ${formatted}`, 'error');
                }

                // –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–æ–≤
                const validDomain = Utils.isValidDomain('example.com');
                const invalidDomain = Utils.isValidDomain('invalid..domain');
                if (validDomain && !invalidDomain) {
                    addTestResult('utilsTestResults', '‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–º–µ–Ω–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('utilsTestResults', '‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–º–µ–Ω–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'error');
                }

                // –¢–µ—Å—Ç –æ—á–∏—Å—Ç–∫–∏ –¥–æ–º–µ–Ω–æ–≤
                const cleaned = Utils.cleanDomain('https://www.example.com/');
                if (cleaned === 'example.com') {
                    addTestResult('utilsTestResults', '‚úÖ –û—á–∏—Å—Ç–∫–∞ –¥–æ–º–µ–Ω–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('utilsTestResults', `‚ùå –û—á–∏—Å—Ç–∫–∞ –¥–æ–º–µ–Ω–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: ${cleaned}`, 'error');
                }

                // –¢–µ—Å—Ç —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è HTML
                const escaped = Utils.escapeHtml('<script>alert("test")</script>');
                if (escaped.includes('&lt;') && escaped.includes('&gt;')) {
                    addTestResult('utilsTestResults', '‚úÖ –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('utilsTestResults', '‚ùå –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'error');
                }

                // –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ID
                const id1 = Utils.generateId();
                const id2 = Utils.generateId();
                if (id1 !== id2 && id1.length === 8) {
                    addTestResult('utilsTestResults', '‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('utilsTestResults', '‚ùå –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'error');
                }

                // –¢–µ—Å—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
                const fileSize = Utils.formatFileSize(1024);
                if (fileSize === '1 –ö–ë') {
                    addTestResult('utilsTestResults', '‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('utilsTestResults', '‚ùå –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'error');
                }

                // –¢–µ—Å—Ç localStorage
                const storageSupported = Utils.isLocalStorageSupported();
                if (storageSupported) {
                    addTestResult('utilsTestResults', '‚úÖ localStorage –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è', 'success');
                } else {
                    addTestResult('utilsTestResults', '‚ùå localStorage –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è', 'error');
                }

            } catch (error) {
                addTestResult('utilsTestResults', `‚ùå –û—à–∏–±–∫–∞ –≤ Utils: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function testNotifications() {
            clearTestResults('notificationTestResults');
            addTestResult('notificationTestResults', 'üîî –¢–µ—Å—Ç–∏—Ä—É–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è...', 'info');

            try {
                // –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ alert
                alert('–¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ');
                addTestResult('notificationTestResults', '‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ –ø–æ–∫–∞–∑–∞–Ω–æ', 'success');
                
                setTimeout(() => {
                    alert('–¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ');
                    addTestResult('notificationTestResults', '‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø–æ–∫–∞–∑–∞–Ω–æ', 'success');
                }, 1000);
                
                setTimeout(() => {
                    alert('–¢–µ—Å—Ç–æ–≤–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ');
                    addTestResult('notificationTestResults', '‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–æ', 'success');
                }, 2000);
                
                setTimeout(() => {
                    alert('–¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è');
                    addTestResult('notificationTestResults', '‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–æ', 'success');
                }, 3000);
                
            } catch (error) {
                addTestResult('notificationTestResults', `‚ùå –û—à–∏–±–∫–∞ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function testNotificationTypes() {
            clearTestResults('notificationTestResults');
            addTestResult('notificationTestResults', 'üé® –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π...', 'info');

            try {
                // –¢–µ—Å—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
                alert('–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ');
                addTestResult('notificationTestResults', '‚úÖ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ', 'success');
                
                setTimeout(() => {
                    alert('–ë—ã—Å—Ç—Ä–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ');
                    addTestResult('notificationTestResults', '‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∫–∞—Å—Ç–æ–º–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —Å–æ–∑–¥–∞–Ω–æ', 'success');
                }, 1000);
                
                setTimeout(() => {
                    alert('–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º');
                    addTestResult('notificationTestResults', '‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º —Å–æ–∑–¥–∞–Ω–æ', 'success');
                }, 2000);
                
                setTimeout(() => {
                    addTestResult('notificationTestResults', '‚úÖ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ', 'success');
                }, 5000);
                
            } catch (error) {
                addTestResult('notificationTestResults', `‚ùå –û—à–∏–±–∫–∞ –≤ —Ç–∏–ø–∞—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç DomainStorage
        function testDomainStorage() {
            clearTestResults('storageTestResults');
            addTestResult('storageTestResults', 'üíæ –¢–µ—Å—Ç–∏—Ä—É–µ–º DomainStorage...', 'info');

            try {
                // –¢–µ—Å—Ç localStorage
                const testKey = 'test_domain_storage';
                const testData = {
                    domain: 'test.com',
                    description: '–¢–µ—Å—Ç–æ–≤—ã–π –¥–æ–º–µ–Ω',
                    tags: ['—Ç–µ—Å—Ç', '–ø—Ä–∏–º–µ—Ä'],
                    id: Utils.generateId()
                };
                
                // –¢–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
                Utils.saveToStorage(testKey, testData);
                addTestResult('storageTestResults', '‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ localStorage', 'success');
                
                // –¢–µ—Å—Ç –ø–æ–ª—É—á–µ–Ω–∏—è
                const retrieved = Utils.getFromStorage(testKey);
                if (retrieved && retrieved.domain === 'test.com') {
                    addTestResult('storageTestResults', '‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ localStorage', 'success');
                } else {
                    addTestResult('storageTestResults', '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö', 'error');
                }
                
                // –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
                retrieved.description = '–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ';
                Utils.saveToStorage(testKey, retrieved);
                const updated = Utils.getFromStorage(testKey);
                if (updated && updated.description === '–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ') {
                    addTestResult('storageTestResults', '‚úÖ –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤ localStorage', 'success');
                } else {
                    addTestResult('storageTestResults', '‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö', 'error');
                }
                
                // –¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è
                Utils.removeFromStorage(testKey);
                const deleted = Utils.getFromStorage(testKey);
                if (!deleted) {
                    addTestResult('storageTestResults', '‚úÖ –î–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã –∏–∑ localStorage', 'success');
                } else {
                    addTestResult('storageTestResults', '‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö', 'error');
                }
                
                // –¢–µ—Å—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
                const size = Utils.getStorageSize();
                if (typeof size === 'number') {
                    addTestResult('storageTestResults', `‚úÖ –†–∞–∑–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞: ${Utils.formatFileSize(size)}`, 'success');
                } else {
                    addTestResult('storageTestResults', '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞', 'error');
                }

            } catch (error) {
                addTestResult('storageTestResults', `‚ùå –û—à–∏–±–∫–∞ –≤ DomainStorage: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç DomainUI
        function testDomainUI() {
            clearTestResults('domainUITestResults');
            addTestResult('domainUITestResults', 'üé® –¢–µ—Å—Ç–∏—Ä—É–µ–º DomainUI...', 'info');

            try {
                // –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                const testDiv = document.createElement('div');
                testDiv.id = 'test-ui-element';
                testDiv.innerHTML = '–¢–µ—Å—Ç–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç';
                document.body.appendChild(testDiv);
                
                if (document.getElementById('test-ui-element')) {
                    addTestResult('domainUITestResults', '‚úÖ DOM —ç–ª–µ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ', 'success');
                } else {
                    addTestResult('domainUITestResults', '‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è DOM —ç–ª–µ–º–µ–Ω—Ç–∞', 'error');
                }

                // –¢–µ—Å—Ç —Å–æ–±—ã—Ç–∏–π
                let eventReceived = false;
                testDiv.addEventListener('click', () => {
                    eventReceived = true;
                });
                
                testDiv.click();
                
                if (eventReceived) {
                    addTestResult('domainUITestResults', '‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('domainUITestResults', '‚ùå –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'error');
                }

                // –¢–µ—Å—Ç —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è HTML
                const escaped = Utils.escapeHtml('<script>alert("test")</script>');
                if (escaped.includes('&lt;') && escaped.includes('&gt;')) {
                    addTestResult('domainUITestResults', '‚úÖ –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('domainUITestResults', '‚ùå –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'error');
                }
                
                // –û—á–∏—Å—Ç–∫–∞
                document.body.removeChild(testDiv);
                addTestResult('domainUITestResults', '‚úÖ DOM —ç–ª–µ–º–µ–Ω—Ç —É–¥–∞–ª–µ–Ω', 'success');

            } catch (error) {
                addTestResult('domainUITestResults', `‚ùå –û—à–∏–±–∫–∞ –≤ DomainUI: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç OverviewTab
        function testOverviewTab() {
            clearTestResults('overviewTestResults');
            addTestResult('overviewTestResults', 'üìà –¢–µ—Å—Ç–∏—Ä—É–µ–º OverviewTab...', 'info');

            try {
                // –¢–µ—Å—Ç —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
                const testData = {
                    it10: 15,
                    it50: 45,
                    vis: 1200,
                    adscnt: 8,
                    adkeyscnt: 25,
                    adcost: 50000,
                    keys: [
                        { word: '—Ç–µ—Å—Ç', ws: 1000, pos: 5, url: 'https://test.com/page1' },
                        { word: '–ø—Ä–∏–º–µ—Ä', ws: 800, pos: 3, url: 'https://test.com/page2' }
                    ]
                };

                // –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
                if (testData.it10 === 15 && testData.it50 === 45) {
                    addTestResult('overviewTestResults', '‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã', 'success');
                } else {
                    addTestResult('overviewTestResults', '‚ùå –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö', 'error');
                }

                // –¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
                const formattedVis = Utils.formatNumber(testData.vis);
                if (formattedVis === '1 200') {
                    addTestResult('overviewTestResults', '‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('overviewTestResults', '‚ùå –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö', 'error');
                }

                // –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
                if (testData.keys && testData.keys.length === 2) {
                    addTestResult('overviewTestResults', '‚úÖ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã', 'success');
                } else {
                    addTestResult('overviewTestResults', '‚ùå –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤', 'error');
                }

                // –¢–µ—Å—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                const totalKeys = testData.keys ? testData.keys.length : 0;
                if (totalKeys === 2) {
                    addTestResult('overviewTestResults', '‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', 'success');
                } else {
                    addTestResult('overviewTestResults', '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏', 'error');
                }

                // –¢–µ—Å—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
                const exportData = {
                    domain: 'test.com',
                    data: testData,
                    timestamp: new Date().toISOString()
                };
                
                if (exportData.domain && exportData.data) {
                    addTestResult('overviewTestResults', '‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞', 'success');
                } else {
                    addTestResult('overviewTestResults', '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞', 'error');
                }

            } catch (error) {
                addTestResult('overviewTestResults', `‚ùå –û—à–∏–±–∫–∞ –≤ OverviewTab: ${error.message}`, 'error');
            }
        }

        // –¢–µ—Å—Ç KeywordsTab
        function testKeywordsTab() {
            clearTestResults('keywordsTestResults');
            addTestResult('keywordsTestResults', 'üîë –¢–µ—Å—Ç–∏—Ä—É–µ–º KeywordsTab...', 'info');

            try {
                // –¢–µ—Å—Ç —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
                const testData = [
                    { word: '–∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ 1', ws: 1000, wsk: 800, pos: 5, url: 'https://test.com/page1' },
                    { word: '–∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ 2', ws: 800, wsk: 600, pos: 3, url: 'https://test.com/page2' },
                    { word: '–∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ 3', ws: 600, wsk: 400, pos: 12, url: 'https://test.com/page3' }
                ];

                // –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
                if (testData.length === 3) {
                    addTestResult('keywordsTestResults', '‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã', 'success');
                } else {
                    addTestResult('keywordsTestResults', '‚ùå –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö', 'error');
                }

                // –¢–µ—Å—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
                const filteredData = testData.filter(item => item.word.includes('—Å–ª–æ–≤–æ 1'));
                if (filteredData.length === 1) {
                    addTestResult('keywordsTestResults', '‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('keywordsTestResults', '‚ùå –û—à–∏–±–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏', 'error');
                }

                // –¢–µ—Å—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
                const sortedData = [...testData].sort((a, b) => b.ws - a.ws);
                if (sortedData[0].ws >= sortedData[1].ws) {
                    addTestResult('keywordsTestResults', '‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('keywordsTestResults', '‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏', 'error');
                }

                // –¢–µ—Å—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                const totalKeywords = testData.length;
                const totalWs = testData.reduce((sum, item) => sum + item.ws, 0);
                const avgPos = testData.reduce((sum, item) => sum + item.pos, 0) / testData.length;
                
                if (totalKeywords === 3) {
                    addTestResult('keywordsTestResults', '‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', 'success');
                } else {
                    addTestResult('keywordsTestResults', '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏', 'error');
                }

                // –¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
                const formattedWs = Utils.formatNumber(totalWs);
                if (formattedWs === '2 400') {
                    addTestResult('keywordsTestResults', '‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                } else {
                    addTestResult('keywordsTestResults', '‚ùå –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö', 'error');
                }

                // –¢–µ—Å—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ CSV
                const csvHeaders = ['word', 'ws', 'wsk', 'pos', 'url'];
                const csvData = testData.map(item => ({
                    word: item.word,
                    ws: item.ws,
                    wsk: item.wsk,
                    pos: item.pos,
                    url: item.url
                }));
                
                if (csvData.length === 3 && csvHeaders.length === 5) {
                    addTestResult('keywordsTestResults', '‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ CSV', 'success');
                } else {
                    addTestResult('keywordsTestResults', '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞', 'error');
                }

            } catch (error) {
                addTestResult('keywordsTestResults', `‚ùå –û—à–∏–±–∫–∞ –≤ KeywordsTab: ${error.message}`, 'error');
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            addTestResult('utilsTestResults', 'üöÄ –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –º–æ–¥—É–ª–µ–π Keys.so Spy', 'info');
            addTestResult('notificationTestResults', 'üîî –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π', 'info');
            addTestResult('storageTestResults', 'üíæ –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Ö—Ä–∞–Ω–∏–ª–∏—â–∞', 'info');
            addTestResult('domainUITestResults', 'üé® –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é UI', 'info');
            addTestResult('overviewTestResults', 'üìà –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –æ–±–∑–æ—Ä–∞', 'info');
            addTestResult('keywordsTestResults', 'üîë –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤', 'info');
        });
    </script>
</body>
</html>
